branches:
  except:
    - gh-pages
language: scala
scala:
  - 2.10.7
  - 2.11.12
  - 2.12.4
jdk:
  - oraclejdk8
  - oraclejdk9
cache:
  directories:
  - "$HOME/.ivy2/cache"
  - "$HOME/.sbt/boot/"
script:
  - sbt ++$TRAVIS_SCALA_VERSION validate
after_success:
  - bash <(curl -s https://codecov.io/bash)
matrix:
  include:
  - scala: 2.11.12
    sudo: required
    before_install:
      - curl https://raw.githubusercontent.com/scala-native/scala-native/v0.3.6/bin/travis_setup.sh | bash -x
    script:
      - sbt ++$TRAVIS_SCALA_VERSION validateNative
      - if [[ $TRAVIS_SCALA_VERSION == 2.12* ]]; then
          sbt ++$TRAVIS_SCALA_VERSION validateDocs
        fi
